<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fire: fire::io::ParameterStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fire<span id="projectnumber">&#160;v0.15.2</span>
   </div>
   <div id="projectbrief">Framework for sImulation and Reconstruction of Events</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classfire_1_1io_1_1ParameterStorage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfire_1_1io_1_1ParameterStorage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">fire::io::ParameterStorage Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Provides dynamic parameter storage by interfacing between a map to variants storing parameters and a h5::Data secialization.  
 <a href="classfire_1_1io_1_1ParameterStorage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ParameterStorage_8h_source.html">ParameterStorage.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5ba0a8a7c85208344f0a971c9d167d6"><td class="memTemplParams" colspan="2">template&lt;typename ParameterType &gt; </td></tr>
<tr class="memitem:af5ba0a8a7c85208344f0a971c9d167d6"><td class="memTemplItemLeft" align="right" valign="top">const ParameterType &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfire_1_1io_1_1ParameterStorage.html#af5ba0a8a7c85208344f0a971c9d167d6">get</a> (const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;name) const</td></tr>
<tr class="memdesc:af5ba0a8a7c85208344f0a971c9d167d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a parameter corresponding to the input name.  <a href="classfire_1_1io_1_1ParameterStorage.html#af5ba0a8a7c85208344f0a971c9d167d6">More...</a><br /></td></tr>
<tr class="separator:af5ba0a8a7c85208344f0a971c9d167d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fc88708ac58f93dee4be08eda33ef4"><td class="memTemplParams" colspan="2">template&lt;typename ParameterType &gt; </td></tr>
<tr class="memitem:af1fc88708ac58f93dee4be08eda33ef4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfire_1_1io_1_1ParameterStorage.html#af1fc88708ac58f93dee4be08eda33ef4">set</a> (const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;name, const ParameterType &amp;val)</td></tr>
<tr class="memdesc:af1fc88708ac58f93dee4be08eda33ef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a parameter to be a specific value.  <a href="classfire_1_1io_1_1ParameterStorage.html#af1fc88708ac58f93dee4be08eda33ef4">More...</a><br /></td></tr>
<tr class="separator:af1fc88708ac58f93dee4be08eda33ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935e532987fb5bf1d0c0ba0998866e43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfire_1_1io_1_1ParameterStorage.html#a935e532987fb5bf1d0c0ba0998866e43">clear</a> ()</td></tr>
<tr class="memdesc:a935e532987fb5bf1d0c0ba0998866e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the parameters  <a href="classfire_1_1io_1_1ParameterStorage.html#a935e532987fb5bf1d0c0ba0998866e43">More...</a><br /></td></tr>
<tr class="separator:a935e532987fb5bf1d0c0ba0998866e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a07928223149d3fc0b4e25d8db091516f"><td class="memItemLeft" align="right" valign="top"><a id="a07928223149d3fc0b4e25d8db091516f" name="a07928223149d3fc0b4e25d8db091516f"></a>
<a class="elRef" href="http://en.cppreference.com/w/cpp/container/unordered_map.html">std::unordered_map</a>&lt; <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>, std::variant&lt; int, float, <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>parameters_</b></td></tr>
<tr class="memdesc:a07928223149d3fc0b4e25d8db091516f"><td class="mdescLeft">&#160;</td><td class="mdescRight">three types of parameters are allowed: int, float, string <br /></td></tr>
<tr class="separator:a07928223149d3fc0b4e25d8db091516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a334ed86b311ee57005d7359381d47bc6"><td class="memItemLeft" align="right" valign="top"><a id="a334ed86b311ee57005d7359381d47bc6" name="a334ed86b311ee57005d7359381d47bc6"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Data&lt; ParameterStorage &gt;</b></td></tr>
<tr class="memdesc:a334ed86b311ee57005d7359381d47bc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow data set access for reading/writing <br /></td></tr>
<tr class="separator:a334ed86b311ee57005d7359381d47bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Provides dynamic parameter storage by interfacing between a map to variants storing parameters and a h5::Data secialization. </p>
<p >This class does some pretty absurd nonsense in order to be able to store a dynamic set of parameters of various types. The type casting necessary to load and save the data stored within this object does negatively impact performance, so this class should be used sparingly. Moreover, the h5::Data&lt;ParameterStorage&gt;::load mechanic only reads in new parameters into the map from disk on the first load call (it continues to load values). This prevents <a class="el" href="classfire_1_1io_1_1ParameterStorage.html" title="Provides dynamic parameter storage by interfacing between a map to variants storing parameters and a ...">ParameterStorage</a> from being usable by normal event objects whose data set names may change between input files due to changing pass names.</p>
<p >Currently, it is only used within the <a class="el" href="classfire_1_1EventHeader.html" title="Header information of an event such as event number and timestamp.">fire::EventHeader</a> and the <a class="el" href="classfire_1_1RunHeader.html" title="Container for run parameters.">fire::RunHeader</a> and users of fire are discouraged from using it within their own classes.</p>
<p ><a class="el" href="classfire_1_1io_1_1ParameterStorage.html" title="Provides dynamic parameter storage by interfacing between a map to variants storing parameters and a ...">ParameterStorage</a> only supports three atomic types (int, float, and <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>). This is just to keep the code relatively simple. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a935e532987fb5bf1d0c0ba0998866e43" name="a935e532987fb5bf1d0c0ba0998866e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935e532987fb5bf1d0c0ba0998866e43">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fire::io::ParameterStorage::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>clear the parameters </p>
<p >We don't clear the container of parameters, we clear them individually by setting them to the numeric_limits minimum or clearing the <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>.</p>
<p >This is to help minimize the save/load type deduction processes that are necessary within h5::Data&lt;ParameterStorage&gt;. </p>

</div>
</div>
<a id="af5ba0a8a7c85208344f0a971c9d167d6" name="af5ba0a8a7c85208344f0a971c9d167d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ba0a8a7c85208344f0a971c9d167d6">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ParameterType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ParameterType &amp; fire::io::ParameterStorage::get </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a parameter corresponding to the input name. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classfire_1_1Exception.html" title="Standard base exception class with some useful output information.">Exception</a></td><td>if requested type differs from the type stored </td></tr>
    <tr><td class="paramname"><a class="el" href="classfire_1_1Exception.html" title="Standard base exception class with some useful output information.">Exception</a></td><td>if parameter is not found</td></tr>
  </table>
  </dd>
</dl>
<h3><a class="anchor" id="autotoc_md38"></a>
usage</h3>
<p >It is recomended to use auto to avoid code repitition. </p><div class="fragment"><div class="line"><span class="comment">// ps is a ParameterStorage instance that already has &quot;one&quot; in it.</span></div>
<div class="line"><span class="keyword">auto</span> one = ps.get&lt;<span class="keywordtype">float</span>&gt;(<span class="stringliteral">&quot;one&quot;</span>);</div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ParameterType</td><td>type of parameter that is being requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>name of parameter to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const reference to parameter named name </dd></dl>

</div>
</div>
<a id="af1fc88708ac58f93dee4be08eda33ef4" name="af1fc88708ac58f93dee4be08eda33ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fc88708ac58f93dee4be08eda33ef4">&#9670;&nbsp;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ParameterType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fire::io::ParameterStorage::set </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ParameterType &amp;&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a parameter to be a specific value. </p>
<dl class="section note"><dt>Note</dt><dd>We do not check if another parameter is being overwritten.</dd></dl>
<h3><a class="anchor" id="autotoc_md39"></a>
usage</h3>
<p >With C++17's argument type deduction feature, the template parameter can be left out. </p><div class="fragment"><div class="line">ParameterStorage ps;</div>
<div class="line"><span class="comment">// these two are the same</span></div>
<div class="line">ps.set(<span class="stringliteral">&quot;one&quot;</span>,1.0);</div>
<div class="line">ps.set&lt;<span class="keywordtype">float</span>&gt;(<span class="stringliteral">&quot;one&quot;</span>,1.0);</div>
<div class="line"><span class="comment">// this will not compile because double&#39;s aren&#39;t supported</span></div>
<div class="line">ps.set&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;one&quot;</span>,1.0);</div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">The</td><td>type of the parameter that is being set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the parameter to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>value of the parameter to keep in storage </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/fire/io/<a class="el" href="ParameterStorage_8h_source.html">ParameterStorage.h</a></li>
<li>src/fire/io/ParameterStorage.cxx</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>fire</b></li><li class="navelem"><a class="el" href="namespacefire_1_1io.html">io</a></li><li class="navelem"><a class="el" href="classfire_1_1io_1_1ParameterStorage.html">ParameterStorage</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
