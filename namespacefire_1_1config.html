<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fire: fire::config Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fire<span id="projectnumber">&#160;v0.14.1</span>
   </div>
   <div id="projectbrief">Framework for sImulation and Reconstruction of Events</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacefire_1_1config.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">fire::config Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>python execution and parameter extraction  
<a href="namespacefire_1_1config.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfire_1_1config_1_1Parameters.html">Parameters</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class encapsulating parameters for configuring a processor.  <a href="classfire_1_1config_1_1Parameters.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac38aec227842f4827629ee9f4402fda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfire_1_1config_1_1Parameters.html">Parameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefire_1_1config.html#aac38aec227842f4827629ee9f4402fda">run</a> (const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;pythonScript, char *args[], int nargs)</td></tr>
<tr class="memdesc:aac38aec227842f4827629ee9f4402fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">run the python script and extract the parameters  <a href="namespacefire_1_1config.html#aac38aec227842f4827629ee9f4402fda">More...</a><br /></td></tr>
<tr class="separator:aac38aec227842f4827629ee9f4402fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357687b65425121bac85fc24ae14d05a"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefire_1_1config.html#a357687b65425121bac85fc24ae14d05a">getPyString</a> (PyObject *pyObj)</td></tr>
<tr class="memdesc:a357687b65425121bac85fc24ae14d05a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn the input python string object into a <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>.  <a href="namespacefire_1_1config.html#a357687b65425121bac85fc24ae14d05a">More...</a><br /></td></tr>
<tr class="separator:a357687b65425121bac85fc24ae14d05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb7cb99bead596a8ea4c7dec63b2dba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfire_1_1config_1_1Parameters.html">Parameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefire_1_1config.html#a7fb7cb99bead596a8ea4c7dec63b2dba">getMembers</a> (PyObject *object)</td></tr>
<tr class="memdesc:a7fb7cb99bead596a8ea4c7dec63b2dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract members from a python object.  <a href="namespacefire_1_1config.html#a7fb7cb99bead596a8ea4c7dec63b2dba">More...</a><br /></td></tr>
<tr class="separator:a7fb7cb99bead596a8ea4c7dec63b2dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab4e14850e6a5f848d54f0a5875df6952"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefire_1_1config.html#ab4e14850e6a5f848d54f0a5875df6952">root_object</a> = &quot;fire.cfg.Process.lastProcess&quot;</td></tr>
<tr class="memdesc:ab4e14850e6a5f848d54f0a5875df6952"><td class="mdescLeft">&#160;</td><td class="mdescRight">namespace variable defining where to look for "root" object to kickoff the parameter extraction from python.  <a href="namespacefire_1_1config.html#ab4e14850e6a5f848d54f0a5875df6952">More...</a><br /></td></tr>
<tr class="separator:ab4e14850e6a5f848d54f0a5875df6952"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >python execution and parameter extraction </p>
<p >this namespace is focused on holding the necessary functions to run and extract the configuration parameters from a python script. The documentation here is focused on the C++-side of the configuration - i.e. the translation of Python objects into their C++ counterparts. For documentation on the Python package used to configure fire, refer to fire's <a href="/fire/python/index.html">python package</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7fb7cb99bead596a8ea4c7dec63b2dba" name="a7fb7cb99bead596a8ea4c7dec63b2dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb7cb99bead596a8ea4c7dec63b2dba">&#9670;&nbsp;</a></span>getMembers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfire_1_1config_1_1Parameters.html">Parameters</a> fire::config::getMembers </td>
          <td>(</td>
          <td class="paramtype">PyObject *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract members from a python object. </p>
<p >Iterates through the object's dictionary and translates the objects inside of it into the type-specified C++ equivalents, then puts these objects into an instance of the <a class="el" href="classfire_1_1config_1_1Parameters.html" title="Class encapsulating parameters for configuring a processor.">Parameters</a> class.</p>
<p >This function is recursive. If a non-base type is encountered, we pass it back along to this function to translate it's own dictionary.</p>
<p >We rely completely on python being awesome. For all higher level class objects, python keeps track of all of its member variables in the member dictionary <code>__dict__</code>.</p>
<p >No Py_DECREF calls are made because all of the members of an object are borrowed references, meaning that when we destory that object, it handles the other members. We destroy the one Python object owning all of these references at the end of this function.</p>
<dl class="section note"><dt>Note</dt><dd>Not sure if this is not leaking memory, kinda just trusting the Python / C API docs on this one.</dd>
<dd>
Empty lists are NOT read in because there is no way for us to know what type should be inside the list. This means list parameters that can be empty need to put in a default empty list value: <code>{}</code>.</dd></dl>
<p>This recursive extraction method is able to handle the following cases.</p><ul>
<li>User-defined classes (via the <code>__dict__</code> member) are extracted to <a class="el" href="classfire_1_1config_1_1Parameters.html" title="Class encapsulating parameters for configuring a processor.">Parameters</a></li>
<li>one-dimensional lists whose entries all have the same type are extracted to <a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a> of the type of the first entry in the list</li>
<li><code>dict</code> objects are extracted to <a class="el" href="classfire_1_1config_1_1Parameters.html" title="Class encapsulating parameters for configuring a processor.">Parameters</a></li>
<li>Python <code>str</code> are extracted to <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></li>
<li>Python <code>int</code> are extracted to C++ <code>int</code></li>
<li>Python <code>bool</code> are extracted to C++ <code>bool</code></li>
<li>Python <code>float</code> are extracted to C++ <code>double</code></li>
</ul>
<p >Known design flaws include</p><ul>
<li>No support for nested Python lists</li>
<li>Annoying band-aid solution for empty Python lists</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>Python object to get members from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapping between member name and value. </dd></dl>

</div>
</div>
<a id="a357687b65425121bac85fc24ae14d05a" name="a357687b65425121bac85fc24ae14d05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357687b65425121bac85fc24ae14d05a">&#9670;&nbsp;</a></span>getPyString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> fire::config::getPyString </td>
          <td>(</td>
          <td class="paramtype">PyObject *&#160;</td>
          <td class="paramname"><em>pyObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turn the input python string object into a <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>. </p>
<p >Helpful to condense down the multi-line nature of the python3 code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pyObj</td><td>python object assumed to be a string python object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value stored in it </dd></dl>

</div>
</div>
<a id="aac38aec227842f4827629ee9f4402fda" name="aac38aec227842f4827629ee9f4402fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac38aec227842f4827629ee9f4402fda">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfire_1_1config_1_1Parameters.html">Parameters</a> fire::config::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>pythonScript</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>run the python script and extract the parameters </p>
<p >This method contains all the parsing and execution of the python script.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classfire_1_1Exception.html" title="Standard base exception class with some useful output information.">Exception</a></td><td>if the python script does not exit properly </td></tr>
    <tr><td class="paramname"><a class="el" href="classfire_1_1Exception.html" title="Standard base exception class with some useful output information.">Exception</a></td><td>if any necessary components of the python configuration are missing. e.g. The <a class="el" href="classfire_1_1Process.html" title="The central object managing the data processing.">Process</a> class or the different members of the lastProcess object.</td></tr>
  </table>
  </dd>
</dl>
<p>The basic premise of this function is to execute the python configuration script. Then, <b>after the script has been executed</b>, all of the parameters for the <a class="el" href="classfire_1_1Process.html" title="The central object managing the data processing.">Process</a> are gathered from python. The fact that the script has been executed means that the user can get up to a whole lot of shenanigans that can help them make their work more efficient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pythonScript</td><td>Filename location of the python script. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Commandline arguments to be passed to the python script. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nargs</td><td>Number of commandline arguments, assumed to be &gt;= 0 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab4e14850e6a5f848d54f0a5875df6952" name="ab4e14850e6a5f848d54f0a5875df6952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e14850e6a5f848d54f0a5875df6952">&#9670;&nbsp;</a></span>root_object</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> fire::config::root_object = &quot;fire.cfg.Process.lastProcess&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>namespace variable defining where to look for "root" object to kickoff the parameter extraction from python. </p>
<p >define the object to pull parameters from</p>
<dl class="section note"><dt>Note</dt><dd>This variable must be defined in any executable that wishes to use <a class="el" href="namespacefire_1_1config.html#aac38aec227842f4827629ee9f4402fda" title="run the python script and extract the parameters">fire::config::run</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>fire</b></li><li class="navelem"><a class="el" href="namespacefire_1_1config.html">config</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
